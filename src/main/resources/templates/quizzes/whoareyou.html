<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}">
    <title>Who Are Ya? - Premier League Quiz</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
</head>
<body>
<!--메뉴 -->
<button class="menu-toggle menu-open-button" onclick="toggleMenu()">☰</button>
<div th:replace="~{fragments/menu ::menu}"></div>
<!--메인 페이지 이미지 -->
<div th:replace="~{fragments/bodyHeader :: bodyHeader}"></div>
<!-- 광고와 콘텐츠를 감싸는 wrapper -->
<div class="content-wrapper">
    <div class="ad-container adLeft">
        <div th:replace="~{fragments/adLeft :: adLeft}"></div>
    </div>

    <div class="content">
        <div id="failed-message" class="failed-message" style="display: none;">
            Failed!
        </div>
        <button id="go-to-main" class="main-button" style="display:none;" onclick="goToMainPage()">Go to Main Page</button>
        <div class="quiz-item" data-answer="${answer.id}">
            <div id="answer-pid" class="pid-overlay" style="display:none;"></div>
            <form id="playerForm" method="post">
                <img id="player-image" th:src="@{${imagePath}}" alt="Player Image">
                <div id="error-message" class="error-message" style="display: none;">
                    없는 선수 입니다.
                </div>
                <input id="player-input" name="input" type="text" placeholder="0 of 8">
                <div id="suggestions"></div>
                <div id = "hintContainer" class="hints-container"></div>
            </form>
        </div>
    </div>

    <div class="ad-container adRight">
        <div th:replace="~{fragments/adRight :: adRight}"></div>
    </div>
</div>
<div th:replace="~{fragments/footer :: footer}"></div>
<!-- 가이드 오버레이 -->
<div id="guide-overlay" class="guide-overlay" style="display: none;">
    <div class="guide-content">
        <h2>Welcome to the Quiz!</h2>
        <p>This is a Progamer guessing game.
            <br>You have 8 attempts to guess the correct player.
            <br>If you type in your guessed pro gamer, you'll get 6 hints.
            <br>Use those hints to answer correctly!</p>
        <button onclick="closeGuide()" class="main-button">Got it!</button>
    </div>
</div>
<script th:src="@{/js/whoareyou.js}"></script>
</body>
<script th:inline="javascript">
    let tryStatus = /*[[${try}]]*/ 0;  // 서버에서 받아온 값을 사용할 때는 기본값도 설정
    const isSubmitted = /*[[${isSubmitted}]]*/ "true";
    const answer = /*[[${answer}]]*/ [];
    const guessedList = /*[[${guessedList}]]*/ [];
    console.log("Try Status from server: ", tryStatus);
    console.log("Guessed List from server: ", guessedList);
</script>
</html>